<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>MLB Break â€“ Inscriptions | Siotime</title>
<style>
body { font-family: Arial, sans-serif; text-align:center; background:#fafafa; margin:0 }
h1 { color:#222 }
.timer { font-size:20px; color:red; font-weight:bold; margin:10px }
.teams { display:flex; flex-wrap:wrap; justify-content:center; gap:15px; margin:20px }
.team { width:140px; padding:10px; border:1px solid #ccc; border-radius:12px; background:white; cursor:pointer }
.team:hover { background:#f2f2f2 }
.taken { opacity:0.4; pointer-events:none; background:#ddd }
.team img { width:70px }
.price { color:green; font-size:0.9em }
.recap-item { display:flex; align-items:center; justify-content:center; gap:10px; margin:5px }
.recap-item img { width:30px }
.section { max-width:800px; margin:40px auto; padding:20px; background:#fff; border-radius:15px; box-shadow:0 4px 10px rgba(0,0,0,0.05) }
.social-bar { background:#000; padding:10px; display:flex; justify-content:center; gap:20px }
.social-bar img { width:32px }
</style>
</head>
<body>


<div class="social-bar">
<a href="https://www.youtube.com/@SioTime" target="_blank"><img src="https://upload.wikimedia.org/wikipedia/commons/0/09/YouTube_full-color_icon_%282017%29.svg"></a>
<a href="https://www.instagram.com/siotime.cards/" target="_blank"><img src="https://upload.wikimedia.org/wikipedia/commons/a/a5/Instagram_icon.png"></a>
<a href="https://x.com/Siotimecards" target="_blank"><img src="https://upload.wikimedia.org/wikipedia/commons/5/53/X_logo_2023_original.svg"></a>
</div>


<h1>âš¾ Inscriptions MLB Break â€“ Siotime</h1>
<div class="timer" id="timer"></div>

<div class="break-section">
 <h2>ðŸ“¦ Le Break en image</h2>
 <img src="BreakMLB.png" alt="Break MLB Siotime" style="max-width:300px; border-radius:12px; box-shadow:0 4px 10px rgba(0,0,0,0.1); margin: 0 auto; display:block;">
</div>

<div class="teams" id="teams"></div>


<h2>âœ… RÃ©cap des inscrits</h2>
<div id="recap"></div>


<div class="section">
<h2>ðŸ“¦ RÃ¨glement du Break</h2>
<ol style="text-align:left">
<li>Un spot = une Ã©quipe MLB</li>
<li>Tirage et ouverture en live YouTube</li>
<li>Toutes les cartes MLB sont envoyÃ©es</li>
<li>Cartes multi-Ã©quipes tirÃ©es au sort en live</li>
<li>Envoi protÃ©gÃ© et suivi</li>
<li>Aucun remboursement aprÃ¨s dÃ©marrage</li>
</ol>
</div>


<script>
const ENDPOINT = "https://script.google.com/macros/s/AKfycbyMYlvpAhowyBgtXORXSEooukFbl9hYfeVbC05FbQdyfDuizN2fuUWNrpLkowDGey4yww/exec";
const deadline = new Date(2025, 11, 18, 20, 0, 0); // 18 dÃ©cembre 2025 Ã  20h00


const teams = [
{ name:"Arizona Diamondbacks", price:5, logo:"https://a.espncdn.com/i/teamlogos/mlb/500/ari.png" },
{ name:"Atlanta Braves", price:8, logo:"https://a.espncdn.com/i/teamlogos/mlb/500/atl.png" },
{ name:"Baltimore Orioles", price:8, logo:"https://a.espncdn.com/i/teamlogos/mlb/500/bal.png" },
{ name:"Boston Red Sox", price:8, logo:"https://a.espncdn.com/i/teamlogos/mlb/500/bos.png" },
{ name:"Chicago Cubs", price:7, logo:"https://a.espncdn.com/i/teamlogos/mlb/500/chc.png" },
{ name:"Chicago White Sox", price:5, logo:"https://a.espncdn.com/i/teamlogos/mlb/500/chw.png" },
{ name:"Cincinnati Reds", price:8, logo:"https://a.espncdn.com/i/teamlogos/mlb/500/cin.png" },
{ name:"Cleveland Guardians", price:7, logo:"https://a.espncdn.com/i/teamlogos/mlb/500/cle.png" },
{ name:"Colorado Rockies", price:6, logo:"https://a.espncdn.com/i/teamlogos/mlb/500/col.png" },
{ name:"Detroit Tigers", price:7, logo:"https://a.espncdn.com/i/teamlogos/mlb/500/det.png" },
{ name:"Houston Astros", price:5, logo:"https://a.espncdn.com/i/teamlogos/mlb/500/hou.png" },
{ name:"Kansas City Royals", price:7, logo:"https://a.espncdn.com/i/teamlogos/mlb/500/kc.png" },
{ name:"Los Angeles Angels", price:8, logo:"https://a.espncdn.com/i/teamlogos/mlb/500/laa.png" },
{ name:"Miami Marlins", price:5, logo:"https://a.espncdn.com/i/teamlogos/mlb/500/mia.png" },
{ name:"Milwaukee Brewers", price:10, logo:"https://a.espncdn.com/i/teamlogos/mlb/500/mil.png" },
{ name:"Minnesota Twins", price:5, logo:"https://a.espncdn.com/i/teamlogos/mlb/500/min.png" },
{ name:"New York Mets", price:8, logo:"https://a.espncdn.com/i/teamlogos/mlb/500/nym.png" },
{ name:"New York Yankees", price:12, logo:"https://a.espncdn.com/i/teamlogos/mlb/500/nyy.png" },
{ name:"Oakland Athletics", price:10, logo:"https://a.espncdn.com/i/teamlogos/mlb/500/oak.png" },
{ name:"Philadelphia Phillies", price:8, logo:"https://a.espncdn.com/i/teamlogos/mlb/500/phi.png" },
{ name:"San Diego Padres", price:7, logo:"https://a.espncdn.com/i/teamlogos/mlb/500/sd.png" },
{ name:"San Francisco Giants", price:5, logo:"https://a.espncdn.com/i/teamlogos/mlb/500/sf.png" },
{ name:"Seattle Mariners", price:8, logo:"https://a.espncdn.com/i/teamlogos/mlb/500/sea.png" },
{ name:"St. Louis Cardinals", price:5, logo:"https://a.espncdn.com/i/teamlogos/mlb/500/stl.png" },
{ name:"Tampa Bay Rays", price:5, logo:"https://a.espncdn.com/i/teamlogos/mlb/500/tb.png" },
{ name:"Texas Rangers", price:7, logo:"https://a.espncdn.com/i/teamlogos/mlb/500/tex.png" },
{ name:"Toronto Blue Jays", price:10, logo:"https://a.espncdn.com/i/teamlogos/mlb/500/tor.png" },
{ name:"Washington Nationals", price:11, logo:"https://a.espncdn.com/i/teamlogos/mlb/500/wsh.png" },
{ name:"ðŸŽ² Spot Hors Sports", price:10, logo:"https://cdn-icons-png.flaticon.com/512/3523/3523063.png" },
{ name:"ðŸˆâš½ðŸ€ Spot Autres Sports", price:5, logo:"https://cdn-icons-png.flaticon.com/512/861/861512.png" }
];

const teamsDiv = document.getElementById("teams");
const recapDiv = document.getElementById("recap");
const timerDiv = document.getElementById("timer");


function renderTeams(taken=[]) {
teamsDiv.innerHTML="";
teams.forEach(t=>{
const d=document.createElement("div");
d.className="team"+(taken.includes(t.name)?" taken":"");
d.innerHTML=`<img src="${t.logo}"><p>${t.name}</p><p class="price">${t.price}â‚¬</p>`;
d.onclick=()=>selectTeam(t);
teamsDiv.appendChild(d);
});
}


async function selectTeam(team){
const pseudo=prompt("Pseudo :"); if(!pseudo) return;
const social=prompt("RÃ©seau social :"); if(!social) return;
if(!confirm(`Confirmer ${team.name} (${team.price}â‚¬)`)) return;
const r=await fetch(ENDPOINT,{method:"POST",body:JSON.stringify({pseudo,social,team:team.name})});
const j=await r.json();
alert(j.status==="ok"?"Inscription validÃ©e":"Erreur");
loadData();
}


async function loadData(){
const t=await (await fetch(ENDPOINT+"?mode=taken")).json();
renderTeams(t);
const r=await (await fetch(ENDPOINT+"?mode=recap")).json();
recapDiv.innerHTML="";
r.forEach(e=>{
const team=teams.find(x=>x.name===e.team);
if(team) recapDiv.innerHTML+=`<div class="recap-item"><img src="${team.logo}"><b>${e.pseudo}</b> (${team.name})</div>`;
});
}


function updateTimer(){
const diff=deadline-new Date();
if(diff<=0){timerDiv.innerHTML="â›” Inscriptions fermÃ©es";return;}
const h=Math.floor(diff/36e5),m=Math.floor(diff/6e4%60),s=Math.floor(diff/1e3%60);
timerDiv.innerHTML=`â³ Fin dans ${h}h ${m}m ${s}s`;
}


loadData(); updateTimer(); setInterval(loadData,15000); setInterval(updateTimer,1000);
</script>
</body>
</html>
